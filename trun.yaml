apiVersion: batch/v1
kind: CronJob
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"batch/v1","kind":"CronJob","metadata":{"annotations":{},"name":"daily-backup-cronjob","namespace":"gke-test-f2e"},"spec":{"concurrencyPolicy":"Allow","failedJobsHistoryLimit":3,"jobTemplate":{"spec":{"backoffLimit":0,"template":{"spec":{"containers":[{"env":[{"name":"TZ","valueFrom":{"configMapKeyRef":{"key":"TZ","name":"timezone-config"}}}],"envFrom":[{"secretRef":{"name":"timezone-secret"}}],"image":"eugeneyiew128/daily-backup-cronjob:dev_2024032509","imagePullPolicy":"Always","name":"cronjob-test","resources":{"limits":{"cpu":"150m","memory":"150Mi"},"requests":{"cpu":"150m","memory":"150Mi"}},"volumeMounts":[{"mountPath":"/config","name":"config","readOnly":true}]}],"restartPolicy":"Never","serviceAccountName":"logging-ksa","volumes":[{"configMap":{"name":"timezone-config"},"name":"config"}]}}}},"schedule":"*/3 * * * *","startingDeadlineSeconds":100,"successfulJobsHistoryLimit":3,"suspend":false,"timeZone":"Asia/Taipei"}}
  creationTimestamp: "2024-03-25T01:15:34Z"
  generation: 115
  managedFields:
  - apiVersion: batch/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:annotations:
          .: {}
          f:kubectl.kubernetes.io/last-applied-configuration: {}
      f:spec:
        f:concurrencyPolicy: {}
        f:failedJobsHistoryLimit: {}
        f:jobTemplate:
          f:spec:
            f:backoffLimit: {}
            f:template:
              f:spec:
                f:containers:
                  k:{"name":"cronjob-test"}:
                    .: {}
                    f:env:
                      .: {}
                      k:{"name":"TZ"}:
                        .: {}
                        f:name: {}
                        f:valueFrom:
                          .: {}
                          f:configMapKeyRef: {}
                    f:envFrom: {}
                    f:imagePullPolicy: {}
                    f:name: {}
                    f:resources:
                      .: {}
                      f:limits:
                        .: {}
                        f:cpu: {}
                        f:memory: {}
                      f:requests:
                        .: {}
                        f:cpu: {}
                        f:memory: {}
                    f:terminationMessagePath: {}
                    f:terminationMessagePolicy: {}
                    f:volumeMounts:
                      .: {}
                      k:{"mountPath":"/config"}:
                        .: {}
                        f:mountPath: {}
                        f:name: {}
                        f:readOnly: {}
                f:dnsPolicy: {}
                f:restartPolicy: {}
                f:schedulerName: {}
                f:securityContext: {}
                f:serviceAccount: {}
                f:serviceAccountName: {}
                f:terminationGracePeriodSeconds: {}
                f:volumes:
                  .: {}
                  k:{"name":"config"}:
                    .: {}
                    f:configMap:
                      .: {}
                      f:defaultMode: {}
                      f:name: {}
                    f:name: {}
        f:schedule: {}
        f:startingDeadlineSeconds: {}
        f:successfulJobsHistoryLimit: {}
        f:suspend: {}
        f:timeZone: {}
    manager: kubectl-client-side-apply
    operation: Update
    time: "2024-03-25T09:19:29Z"
  - apiVersion: batch/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:spec:
        f:jobTemplate:
          f:spec:
            f:template:
              f:spec:
                f:containers:
                  k:{"name":"cronjob-test"}:
                    f:image: {}
    manager: kubectl-set
    operation: Update
    time: "2024-03-25T09:19:30Z"
  - apiVersion: batch/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:status:
        f:lastScheduleTime: {}
        f:lastSuccessfulTime: {}
    manager: kube-controller-manager
    operation: Update
    subresource: status
    time: "2024-03-25T09:27:17Z"
  name: daily-backup-cronjob
  namespace: gke-test-f2e
  resourceVersion: "115536314"
  uid: 086a9afc-da28-4c28-ad57-906102e39755
spec:
  concurrencyPolicy: Allow
  failedJobsHistoryLimit: 3
  jobTemplate:
    metadata:
      creationTimestamp: null
    spec:
      backoffLimit: 0
      template:
        metadata:
          creationTimestamp: null
        spec:
          containers:
          - env:
            - name: TZ
              valueFrom:
                configMapKeyRef:
                  key: TZ
                  name: timezone-config
            envFrom:
            - secretRef:
                name: timezone-secret
            image: eugeneyiew128/daily-backup-cronjob:dev_2024032565
            imagePullPolicy: Always
            name: cronjob-test
            resources:
              limits:
                cpu: 150m
                memory: 150Mi
              requests:
                cpu: 150m
                memory: 150Mi
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /config
              name: config
              readOnly: true
          dnsPolicy: ClusterFirst
          restartPolicy: Never
          schedulerName: default-scheduler
          securityContext: {}
          serviceAccount: logging-ksa
          serviceAccountName: logging-ksa
          terminationGracePeriodSeconds: 30
          volumes:
          - configMap:
              defaultMode: 420
              name: timezone-config
            name: config
  schedule: '*/3 * * * *'
  startingDeadlineSeconds: 100
  successfulJobsHistoryLimit: 3
  suspend: false
  timeZone: Asia/Taipei
status:
  lastScheduleTime: "2024-03-25T09:27:00Z"
  lastSuccessfulTime: "2024-03-25T09:27:17Z"
